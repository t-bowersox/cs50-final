{% extends "base.html.jinja" %}

{% block title %}
Confirm Password
{% endblock %}

{% block nav %}
<ul class="navbar-nav">
    {{ nav_item('History', url_for('tasks.history')) }}
    {{ nav_item('Settings', url_for('settings.index')) }}
</ul>

<ul class="navbar-nav ms-auto">
    {{ nav_item('Logout', url_for('auth.logout')) }}
</ul>
{% endblock %}

{% block main %}
<section class="mx-auto col-md-8">
    <header>
        <h1>Confirm your password</h1>
        <p>Please enter your password to continue.</p>
    </header>

    {% set messages = get_flashed_messages() %}

    <form action="{{ url_for('auth.confirm_password') }}" method="post" novalidate>
        <div class="mb-3">
            <label for="password" class="form-label">Password</label>
            <input type="password" name="password" id="password" autocomplete="current-password" required
                class="form-control{% if 'password' in messages %} is-invalid{% endif %}"
                aria-describedby="password-feedback">
            <div class="invalid-feedback" id="password-feedback">A valid password is required.</div>
        </div>

        <input type="hidden" name="destination" value="{{ destination }}">
        <button type="submit" class="btn btn-primary">Submit</button>
    </form>
</section>
{% endblock %}